# ============================================================================
# KERBEROS CLIENT CONFIGURATION FILE (krb5.conf)
# This file tells Kerberos clients how to find and communicate with the KDC
# Used by both the client container and Vault for Kerberos operations
# ============================================================================

[libdefaults]
    # Default realm for this Kerberos installation
    default_realm = EXAMPLE.COM
    
    # Disable DNS-based realm and KDC discovery for predictable behavior
    dns_lookup_realm = false
    dns_lookup_kdc = false
    
    # Ticket lifetime settings
    ticket_lifetime = 24h      # How long tickets are valid
    renew_lifetime = 7d        # How long tickets can be renewed
    forwardable = true         # Allow ticket forwarding for service authentication

[realms]
    # Configuration for our test Kerberos realm
    EXAMPLE.COM = {
        # KDC server location - must match the container hostname
        kdc = kdc.example.com:88
        
        # Admin server for password changes and principal management
        admin_server = kdc.example.com:749
        
        # Default domain for this realm
        default_domain = example.com
    }

[domain_realm]
    # Map domain names to Kerberos realms
    # This tells clients which realm to use for hosts in these domains
    .example.com = EXAMPLE.COM    # Subdomain mapping
    example.com = EXAMPLE.COM     # Domain mapping